webpackJsonp([17],{"M3+T":function(t,e){},zcsU:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={data:function(){return{input:"",input1:"",total_page:1,title:"推荐用户",addbox:!1,orderbox:!1,options:[{value:"1",label:"未支付"},{value:"2",label:"已支付"},{value:"3",label:"进行中"},{value:"4",label:"已完成"},{value:"5",label:"订单关闭"},{value:"6",label:"已拒绝"}],value:"",userlist:[],distrilist:[],distriorderlist:[],user_id:""}},created:function(){this.getdistributionlist(1)},methods:{getdistributionlist:function(t){var e=this,s=this.$host+"admin/distribution";this.axios.get(s,{params:{pageSize:10,page:t,keyword:this.input}}).then(function(t){if(200==t.status){var s=t.data;e.userlist=s.result,e.total_page=s.total_number}else e.$message.error("网络错误！请稍后重试！")})},serch:function(){this.getdistributionlist(1)},user:function(t,e){1==e?this.title="推荐用户":2==e&&(this.title="推荐教练"),this.getmydistribution(t,e),this.addbox=!0},getmydistribution:function(t,e){var s=this,l=this.$host+"admin/distribution/distribution_user_coach";this.axios.get(l,{params:{user_id:t,mtype:e}}).then(function(t){if(console.log(t),200==t.status){var e=t.data;s.distrilist=e.data}else s.$message.error("网络错误！请稍后重试！")})},order:function(t){this.orderbox=!0,this.user_id=t,this.getdistributionorderlist()},getdistributionorderlist:function(t){var e=this,s=this.$host+"admin/distribution/distribution_order";this.axios.get(s,{params:{user_id:this.user_id,keyword:this.input1,order_status:this.value}}).then(function(t){if(console.log(t),200==t.status){var s=t.data;e.distriorderlist=s.data}else e.$message.error("网络错误！请稍后重试！")})},serchs:function(){this.getdistributionorderlist()},select:function(){this.getdistributionorderlist()},handleSizeChange:function(t){},handleCurrentChange:function(t){this.getdistributionlist(t)}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"distribution"},[s("div",{staticClass:"content bg-f padding-24"},[s("div",{staticClass:"top space-between"},[s("div",{staticClass:"center-col left"},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:" 请输入您要搜索的内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.serch()}},slot:"append"})],1)],1)]),t._v(" "),s("div",{staticClass:"list"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.userlist,stripe:"",border:""}},[s("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),s("el-table-column",{attrs:{label:"头像"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"types"},[s("span",{staticClass:"bg-active color-f fs-12"},[t._v(t._s(1==e.row.is_coach?"教练":1==e.row.is_yoga?"瑜伽馆":"用户"))]),t._v(" "),s("img",{staticClass:"header",attrs:{src:e.row.user_portrait,alt:""}})])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"user_nickname",label:"名称"}}),t._v(" "),s("el-table-column",{attrs:{label:"推荐用户"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"color-active btn",on:{click:function(s){return t.user(e.row.user_id,1)}}},[t._v(t._s(e.row.recommend_user)+"人")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"分销订单"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"color-active btn",on:{click:function(s){return t.order(e.row.user_id)}}},[t._v(t._s(e.row.distribution_order)+"笔")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"推荐教练"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"color-active btn",on:{click:function(s){return t.user(e.row.user_id,2)}}},[t._v(t._s(e.row.recommend_coach)+"人")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"累计佣金"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"color-active"},[t._v(t._s(e.row.total_commission)+"元")])]}}])})],1)],1),t._v(" "),s("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next",total:t.total_page},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),s("div",{staticClass:"addbox"},[s("el-dialog",{attrs:{title:t.title,visible:t.addbox},on:{"update:visible":function(e){t.addbox=e}}},[s("div",{staticClass:"list"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.distrilist,stripe:"",border:""}},[s("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),s("el-table-column",{attrs:{label:"头像",width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{staticClass:"header",attrs:{src:t.row.user_portrait,alt:""}})]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"user_nickname",label:"名称",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"user_sex",label:"性别",width:"80"}}),t._v(" "),s("el-table-column",{attrs:{prop:"user_phone",label:"绑定手机号",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{prop:"user_district",label:"区域"}}),t._v(" "),s("el-table-column",{attrs:{prop:"register_time",label:"注册时间"}})],1)],1)])],1),t._v(" "),s("div",{staticClass:"addbox"},[s("el-dialog",{attrs:{title:"分销订单",visible:t.orderbox},on:{"update:visible":function(e){t.orderbox=e}}},[s("div",{staticClass:"tops center-col"},[s("div",{staticClass:"center-col left"},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:" 请输入您要搜索的内容"},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.serchs()}},slot:"append"})],1)],1),t._v(" "),s("div",{staticClass:"center-col",staticStyle:{"margin-left":"20px"}},[s("p",[t._v("订单状态：")]),t._v(" "),s("el-select",{attrs:{placeholder:"请选择"},on:{change:t.select},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[s("el-option",{key:"",attrs:{label:"全部",value:""}}),t._v(" "),t._l(t.options,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})],2)],1)]),t._v(" "),s("div",{staticClass:"list"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.distriorderlist,stripe:"",border:""}},[s("el-table-column",{attrs:{prop:"order_sn",label:"订单号",width:"150"}}),t._v(" "),s("el-table-column",{attrs:{label:"头像",width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{staticClass:"header",attrs:{src:t.row.user_portrait,alt:""}})]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"user_nickname",label:"名称",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{label:"订单状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",{staticClass:"color-4"},[t._v(t._s(1==e.row.order_status?"未支付":2==e.row.order_status?"已支付":3==e.row.order_status?"进行中":4==e.row.order_status?"已完成":5==e.row.order_status?"交易关闭":"已拒绝"))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"add_time",label:"下单时间"}}),t._v(" "),s("el-table-column",{attrs:{prop:"order_amount",label:"订单总计",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{prop:"user_commission",label:"所得佣金"}})],1)],1)])],1)],1)])},staticRenderFns:[]};var a=s("VU/8")(l,i,!1,function(t){s("M3+T")},null,null);e.default=a.exports}});
//# sourceMappingURL=17.196bfe0b76c1cf4b0506.js.map