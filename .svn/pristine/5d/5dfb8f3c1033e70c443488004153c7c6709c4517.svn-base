webpackJsonp([29],{Gl8u:function(t,e){},Y1Hb:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{imageUrl:"",skuId:"",noimg:s("Vmam"),advertise:[]}},created:function(){this.getAdvertiselist()},methods:{getAdvertiselist:function(){var t=this,e=this.$host+"admin/advert";this.axios.get(e).then(function(e){if(console.log(e),200==e.status){var s=e.data;t.advertise=s}else t.$message.error("网络错误！请稍后重试！")})},handleAvatarSuccess1:function(t){this.imageUrl=t.dest,this.updataImg()},upimg:function(t){this.skuId=t},updataImg:function(){var t=this,e={advert_id:this.skuId,advert_cover:this.imageUrl},s=this.$host+"admin/advert/edit_advert";this.axios.post(s,e).then(function(e){t.$message({message:"上传成功！",type:"success"}),t.getAdvertiselist()}).catch(function(t){console.log(t)})}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"advertise"},[s("div",{staticClass:"content bg-f padding-24"},[t._m(0),t._v(" "),s("div",{staticClass:"list"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.advertise,stripe:"",border:""}},[s("el-table-column",{attrs:{type:"index",width:"100",label:"序号"}}),t._v(" "),s("el-table-column",{attrs:{label:"图片",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticClass:"imgbox",on:{click:function(s){return t.upimg(e.row.id)}}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://test.izhixiu.cn/www/yoga/upload_file","show-file-list":!1,"on-success":t.handleAvatarSuccess1}},[e.row.advert_cover?s("img",{staticClass:"avatar long",attrs:{src:""==e.row.advert_cover?t.noimg:e.row.advert_cover}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"名称",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[t._v(t._s(e.row.advert_title))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"排序",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.row.sort,expression:"scope.row.sort"}],staticClass:"sort",attrs:{type:"text"},domProps:{value:e.row.sort},on:{input:function(s){s.target.composing||t.$set(e.row,"sort",s.target.value)}}})]}}])})],1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top space-between"},[e("div",{staticClass:"center-col left"},[this._v("广告位"),e("span",[this._v("(建议尺寸：342*164px)")])])])}]};var r=s("VU/8")(a,i,!1,function(t){s("Gl8u")},null,null);e.default=r.exports}});
//# sourceMappingURL=29.567ba4bb5a534256250b.js.map