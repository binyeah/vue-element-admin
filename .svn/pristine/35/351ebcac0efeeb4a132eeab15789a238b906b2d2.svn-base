webpackJsonp([7],{O2Fe:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{input:"",total_page:1,options:[],userinfo:{},cove:s("7Otq"),teachername:"xxx",value:"",id:"",courelist:[{course_cover:[]}]}},created:function(){this.id=this.$route.query.id,this.getteachercoure(1),this.gettypes()},methods:{gettypes:function(){var t=this,e=this.$host+"admin/cate/second_cate";this.axios.get(e).then(function(e){if(console.log(e),200==e.status){var s=e.data;t.options=s.goods_cate}else t.$message.error("网络错误！请稍后重试！")})},getteachercoure:function(t){var e=this,s=this.$host+"admin/service_personnel/publish_course";this.axios.get(s,{params:{pageSize:10,page:t,course_instructor_id:this.id,course_name:this.input,sid:this.value}}).then(function(t){if(console.log(t),200==t.status){var s=t.data;e.courelist=s.result,e.total_page=s.total_number,e.userinfo=s.uesr_info}else e.$message.error("网络错误！请稍后重试！")})},select:function(){this.getteachercoure(1)},ban:function(t,e){var s=this,a={course_id:t,mtype:e},n=this.$host+"admin/service_personnel/recommend_home";this.axios.post(n,a).then(function(t){console.log(t);var e=t.data;1==e.code&&s.$message({message:e.msg,type:"success"}),s.getteachercoure(1)}).catch(function(t){console.log(t)})},serch:function(){this.getteachercoure(1)},handleCurrentChange:function(t){this.getteachercoure(t)}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"selfcoure"},[s("div",{staticClass:"content bg-f padding-24"},[s("div",{staticClass:"top space-between"},[s("div",{staticClass:"center-col left"},[s("img",{attrs:{src:t.userinfo.user_portrait,alt:""}}),t._v(" "),s("p",{staticClass:"fs-18"},[t._v(t._s(t.userinfo.user_nickname))]),t._v(" "),s("div",{staticClass:"center-col",staticStyle:{"margin-left":"20px"}},[s("p",[t._v("类型：")]),t._v(" "),s("el-select",{attrs:{placeholder:"请选择"},on:{change:t.select},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[s("el-option",{key:"",attrs:{label:"全部",value:""}}),t._v(" "),t._l(t.options,function(t){return s("el-option",{key:t.id,attrs:{label:t.cate_name,value:t.id}})})],2)],1)]),t._v(" "),s("div",{staticClass:"right"},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:" 请输入课程名称"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.serch()}},slot:"append"})],1)],1)]),t._v(" "),s("div",{staticClass:"list"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.courelist,stripe:"",border:""}},[s("el-table-column",{attrs:{type:"index",width:"80",label:"序号"}}),t._v(" "),s("el-table-column",{attrs:{label:"封面",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{staticClass:"sq",attrs:{src:t.row.course_cover[0],alt:""}})]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"course_name",label:"名称"}}),t._v(" "),s("el-table-column",{attrs:{prop:"kinds",label:"类型",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.course_types,function(e,a){return s("p",{key:a},[t._v(t._s(e.cate_name))])})}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"course_number",label:"课时",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{prop:"course_level",label:"难度",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{prop:"unit_price",label:"单价",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{prop:"total_price",label:"总价",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{prop:"created_at",label:"添加时间",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.is_set?s("div",{staticClass:"btn del",on:{click:function(s){return t.ban(e.row.course_id,2)}}},[t._v("取消推荐")]):s("div",{staticClass:"btn active",on:{click:function(s){return t.ban(e.row.course_id,1)}}},[t._v("推荐到首页")])]}}])})],1)],1),t._v(" "),s("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next",total:t.total_page},on:{"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var o=s("VU/8")(a,n,!1,function(t){s("Zj88")},null,null);e.default=o.exports},Zj88:function(t,e){}});
//# sourceMappingURL=7.c3f5b39960babf380980.js.map