webpackJsonp([18],{"/4aL":function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{sendbox:!1,teacherbox:!1,ordertype:[],input:"",ordersnum:{},colors:["#99A9BF","#F7BA2A","#FF9900"],total_page:1,options:[{value:"1",label:"未支付"},{value:"2",label:"已支付"},{value:"3",label:"进行中"},{value:"4",label:"已完成"},{value:"5",label:"取消订单"},{value:"6",label:"已拒绝"}],orderlist:[],value:"",score:"5",order:{address:"上海市浦东新区",list:[{img:l("7Otq"),name:"xx",phone:"15577858888",ordernum:"75",id:2,sex:"女",type:"各种瑜伽。。。",value:2.5,area:"上海市"},{img:l("7Otq"),name:"xx",phone:"15577858999",ordernum:"75",id:1,sex:"女",type:"各种瑜伽。。。",value:5,area:"上海市"}]},teacherinfo:[{img:l("7Otq"),name:"xx",phone:"15577858888",ordernum:"75",id:2,sex:"女",type:"各种瑜伽。。。",level:"高级",area:"上海市"}]}},created:function(){this.getorderlist(1),this.getordernum()},methods:{getorderlist:function(t){var e=this,l=this.$host+"admin/order";this.axios.get(l,{params:{pageSize:10,page:t,keyword:this.input,order_status:this.value}}).then(function(t){console.log(t),e.orderlist=t.data.result,e.total_page=t.data.total_number}).catch(function(t){console.log(t)})},getordernum:function(){var t=this,e=this.$host+"admin/order/order_statistics";this.axios.get(e).then(function(e){t.ordersnum=e.data}).catch(function(t){console.log(t)})},choosetype:function(){this.getorderlist(1)},serch:function(){this.getorderlist(1)},add:function(){},handleCurrentChange:function(t){this.getorderlist(t)},delorder:function(t){var e=this,l={order_id:t.order_id},a=this.$host+"admin/order/delete_order";this.axios.post(a,l).then(function(t){console.log(t);var l=t.data;1==l.code?(e.$message({message:l.msg,type:"success"}),e.getorderlist(1)):e.$message.error(l.msg)}).catch(function(t){console.log(t)})},send:function(t){this.sendbox=!0},look:function(t){this.teacherbox=!0}}},s={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"order"},[l("div",{staticClass:"statistical bg-f"},[t._m(0),t._v(" "),l("div",{staticClass:"content"},[l("ul",{staticClass:"space-around"},[l("li",[l("p",{staticClass:"fs-36"},[t._v(t._s(t.ordersnum.today_sale))]),t._v(" "),l("p",{staticClass:"fs-14 color-6"},[t._v("今日销售额")])]),t._v(" "),l("li",[l("p",{staticClass:"fs-36"},[t._v(t._s(t.ordersnum.month_order))]),t._v(" "),l("p",{staticClass:"fs-14 color-6"},[t._v("当月订单总数")])]),t._v(" "),l("li",[l("p",{staticClass:"fs-36"},[t._v(t._s(t.ordersnum.month_sale))]),t._v(" "),l("p",{staticClass:"fs-14 color-6"},[t._v("当月销售总额")])]),t._v(" "),l("li",[l("p",{staticClass:"fs-36"},[t._v(t._s(t.ordersnum.total_order_number))]),t._v(" "),l("p",{staticClass:"fs-14 color-6"},[t._v("订单总数")])]),t._v(" "),l("li",[l("p",{staticClass:"fs-36"},[t._v(t._s(t.ordersnum.total_sale))]),t._v(" "),l("p",{staticClass:"fs-14 color-6"},[t._v("销售总额")])])])])]),t._v(" "),l("div",{staticClass:"tabel bg-f padding-24"},[l("div",{staticClass:"top space-between"},[l("div",{staticClass:"center-col left"},[l("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:" 请输入您要搜索的内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.serch()}},slot:"append"})],1),t._v(" "),l("div",{staticClass:"center-col",staticStyle:{"margin-left":"20px"}},[l("p",[t._v("订单状态：")]),t._v(" "),l("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){return t.choosetype()}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[l("el-option",{key:"",attrs:{label:"全部",value:""}}),t._v(" "),t._l(t.options,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})],2)],1)],1),t._v(" "),l("div",{staticClass:"add btn color-f bg-active",on:{click:t.add}},[t._v("导出订单")])]),t._v(" "),l("div",{staticClass:"list"},[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.orderlist,stripe:"",border:""}},[l("el-table-column",{attrs:{prop:"order_sn",label:"订单号",width:"120"}}),t._v(" "),l("el-table-column",{attrs:{label:"用户",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("p",[t._v(t._s(e.row.user_nickname))]),t._v(" "),l("p",[t._v(t._s(e.row.user_phone))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"订单内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("div",{staticClass:"center-col"},[l("img",{staticClass:"sq",attrs:{src:e.row.course_cover,alt:""}}),t._v(" "),l("p",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.course_name))])])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"course_number",label:"课时",width:"50"}}),t._v(" "),l("el-table-column",{attrs:{prop:"course_level",label:"难度",width:"50"}}),t._v(" "),l("el-table-column",{attrs:{label:"类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.course_types,function(e,a){return l("p",{key:a},[t._v(t._s(e.cate_name))])})}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"unit_price",label:"单价",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{prop:"total_price",label:"总价",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{prop:"add_time",label:"下单时间",width:"180"}}),t._v(" "),l("el-table-column",{attrs:{label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("p",[t._v(t._s(1==e.row.order_status?"待支付":2==e.row.order_status?"已支付":3==e.row.order_status?"进行中":4==e.row.order_status?"已完成":5==e.row.order_status?"已取消":"教练已拒绝"))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("div",{staticClass:"space-around"},[l("div",{staticClass:"btn active",on:{click:function(l){return t.look(e.row.id)}}},[t._v("查看教练")]),t._v(" "),4==e.row.order_status||5==e.row.order_status||6==e.row.order_status?l("div",{staticClass:"btn bg-e",on:{click:function(l){return t.delorder(e.row)}}},[t._v("删除")]):t._e()])]}}])})],1)],1),t._v(" "),l("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next",total:t.total_page},on:{"current-change":t.handleCurrentChange}}),t._v(" "),l("div",{staticClass:"addbox"},[l("el-dialog",{attrs:{title:"派单",visible:t.sendbox,width:"70%"},on:{"update:visible":function(e){t.sendbox=e}}},[l("p",{staticClass:"color-r title"},[t._v("订单地址："+t._s(t.order.address))]),t._v(" "),l("div",{staticClass:"list"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.order.list,stripe:"",border:""}},[l("el-table-column",{attrs:{label:"头像",width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[l("img",{staticClass:"header",attrs:{src:t.row.img,alt:""}})]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"name",label:"名称",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"sex",label:"性别",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{label:"服务类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("p",[t._v(t._s(e.row.type))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"phone",label:"联系电话",width:"120"}}),t._v(" "),l("el-table-column",{attrs:{prop:"area",label:"区域"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ordernum",label:"订单数",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{label:"评价星级",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900",colors:t.colors},model:{value:e.row.value,callback:function(l){t.$set(e.row,"value",l)},expression:"scope.row.value"}})]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("div",{staticClass:"btn active",on:{click:function(l){return t.tosend(e.row.id)}}},[t._v("派单")])]}}])})],1)],1)]),t._v(" "),l("el-dialog",{attrs:{title:"查看教练",visible:t.teacherbox,width:"50%"},on:{"update:visible":function(e){t.teacherbox=e}}},[l("div",{staticClass:"list"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.teacherinfo,stripe:"",border:""}},[l("el-table-column",{attrs:{label:"头像",width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[l("img",{staticClass:"header",attrs:{src:t.row.img,alt:""}})]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"name",label:"教练名称",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"sex",label:"性别",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{prop:"phone",label:"联系电话",width:"120"}}),t._v(" "),l("el-table-column",{attrs:{label:"服务类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("p",[t._v(t._s(e.row.type))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"area",label:"服务地址"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ordernum",label:"订单数",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ordernum",label:"学员",width:"80"}}),t._v(" "),l("el-table-column",{attrs:{prop:"level",label:"级别",width:"80"}})],1)],1)])],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top center-col padding-24"},[e("span",{staticClass:"el-icon-tickets fs-20"}),this._v(" "),e("p",{staticClass:"fs-16"},[this._v("订单统计")])])}]};var o=l("VU/8")(a,s,!1,function(t){l("VwYY")},null,null);e.default=o.exports},VwYY:function(t,e){}});
//# sourceMappingURL=18.76b6f3f7d2d0b2ba8b0e.js.map