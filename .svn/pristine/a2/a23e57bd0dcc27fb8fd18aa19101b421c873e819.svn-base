webpackJsonp([5],{qUSi:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){return{input:"",total_page:1,options:[],value:"",teacherlist:[],level:[{value:"0",label:"未知"},{value:"1",label:"LV1"},{value:"2",label:"LV2"},{value:"3",label:"LV3"}]}},created:function(){this.getteacherlist(1),this.gettypes()},methods:{gettypes:function(){var e=this,t=this.$host+"admin/cate/second_cate";this.axios.get(t).then(function(t){if(console.log(t),200==t.status){var l=t.data;e.options=l.goods_cate}else e.$message.error("网络错误！请稍后重试！")})},getteacherlist:function(e){var t=this,l=this.$host+"admin/service_personnel/coach_manage";this.axios.get(l,{params:{pageSize:10,page:e,keyword:this.input,sid:this.value}}).then(function(e){if(console.log(e),200==e.status){var l=e.data;t.teacherlist=l.result,t.total_page=l.total_number}else t.$message.error("网络错误！请稍后重试！")})},choose:function(){this.getteacherlist(1)},ban:function(e,t){var l=this,a={user_id:e,mtype:t},s=this.$host+"admin/service_personnel/forbid_account";this.axios.post(s,a).then(function(e){console.log(e);var t=e.data;1==t.code&&l.$message({message:t.msg,type:"success"}),l.getteacherlist(1)}).catch(function(e){console.log(e)})},chooselevel:function(e){var t=this;console.log(e);var l={user_id:e.user_id,coach_level:e.coach_level},a=this.$host+"admin/set_coach_level";this.axios.post(a,l).then(function(e){console.log(e);var l=e.data;1==l.code&&t.$message({message:l.msg,type:"success"}),t.getteacherlist(1)}).catch(function(e){console.log(e)})},serch:function(){this.getteacherlist(1)},handleCurrentChange:function(e){this.getteacherlist(e)}}},s={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"teacher"},[l("div",{staticClass:"content bg-f padding-24"},[l("div",{staticClass:"top space-between"},[l("div",{staticClass:"center-col left"},[l("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:" 请输入您要搜索的内容"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.serch()}},slot:"append"})],1),e._v(" "),l("div",{staticClass:"center-col",staticStyle:{"margin-left":"20px"}},[l("p",[e._v("服务类型：")]),e._v(" "),l("el-select",{attrs:{placeholder:"请选择"},on:{change:e.choose},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[l("el-option",{key:"",attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.options,function(e){return l("el-option",{key:e.id,attrs:{label:e.cate_name,value:e.id}})})],2)],1)],1)]),e._v(" "),l("div",{staticClass:"list"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.teacherlist,stripe:"",border:""}},[l("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),l("el-table-column",{attrs:{label:"头像",width:"80"},scopedSlots:e._u([{key:"default",fn:function(e){return[l("img",{staticClass:"header",attrs:{src:e.row.user_portrait,alt:""}})]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"名称",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("p",[e._v(e._s(t.row.user_real_name||t.row.user_nickname))])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"user_phone",label:"联系电话",width:"130"}}),e._v(" "),l("el-table-column",{attrs:{label:"服务类型",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.service_type,function(t,a){return l("span",{key:a},[e._v(e._s(t)+";")])})}}])}),e._v(" "),l("el-table-column",{attrs:{label:"服务地区"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.user_service_region,function(t,a){return l("span",{key:a},[e._v(e._s(t)+";")])})}}])}),e._v(" "),l("el-table-column",{attrs:{label:"学员",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("router-link",{staticClass:"link",attrs:{to:{name:"userlist",query:{id:t.row.user_id}}}},[e._v(e._s(t.row.student_number))])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"订单数",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("router-link",{staticClass:"link",attrs:{to:{name:"selforder",query:{id:t.row.user_id}}}},[e._v(e._s(t.row.order_number))])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"发布的课程数",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("router-link",{staticClass:"link",attrs:{to:{name:"selfcoure",query:{id:t.row.user_id}}}},[e._v(e._s(t.row.course_number))])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"order_amount",label:"订单金额",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("p",[e._v(e._s(0==t.row.order_status?"未知":1==t.row.order_status?"接单中":"暂停接单"))])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"好评率",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("p",[e._v(e._s(t.row.good_rate)+"%")])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"级别",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-select",{attrs:{placeholder:"请选择"},on:{change:function(l){return e.chooselevel(t.row)}},model:{value:t.row.coach_level,callback:function(l){e.$set(t.row,"coach_level",l)},expression:"scope.row.coach_level"}},e._l(e.level,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.is_disable?l("div",{staticClass:"btn del",on:{click:function(l){return e.ban(t.row.user_id,2)}}},[e._v("解禁")]):l("div",{staticClass:"btn active",on:{click:function(l){return e.ban(t.row.user_id,1)}}},[e._v("禁止账号")])]}}])})],1)],1),e._v(" "),l("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next",total:e.total_page},on:{"current-change":e.handleCurrentChange}})],1)])},staticRenderFns:[]};var n=l("VU/8")(a,s,!1,function(e){l("x56n")},null,null);t.default=n.exports},x56n:function(e,t){}});
//# sourceMappingURL=5.94eebfd95c9ccb771f77.js.map