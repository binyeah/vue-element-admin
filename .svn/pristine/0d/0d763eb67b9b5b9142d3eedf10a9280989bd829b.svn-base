{"version":3,"sources":["webpack:///src/pages/platmentManagement/city.vue","webpack:///./src/pages/platmentManagement/city.vue?9d48","webpack:///./src/pages/platmentManagement/city.vue"],"names":["city","data","cityList","total_page","created","this","getCitylist","methods","page","_this","url","$host","axios","get","params","pageSize","then","res","console","log","status","resData","result","total_number","$message","error","add","_this2","post","message","type","catch","del","i","_this3","city_id","code","msg","change","item","_this4","city_name","sort","data1","id","mtype","val","handleSizeChange","handleCurrentChange","platmentManagement_city","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","click","staticStyle","width","attrs","stripe","border","label","scopedSlots","_u","key","fn","scope","directives","name","rawName","value","row","expression","domProps","$event","input","target","composing","$set","page-size","layout","total","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.80157b5f67eaba110b6b.js","sourcesContent":["<template>\r\n    <div class=\"city\">\r\n        <div class=\"content bg-f padding-24\">\r\n            <div class=\"top space-between\">\r\n                <div class=\"center-col left\">城市管理</div>\r\n                <div class=\"add btn color-f bg-active\" @click=\"add\">添加</div>\r\n            </div>\r\n            <div class=\"list\">\r\n                <el-table :data=\"cityList\" stripe border style=\"width: 100%\">\r\n                    <el-table-column type=\"index\" width=\"100\" label=\"序号\">\r\n                    </el-table-column>\r\n                    <el-table-column label=\"城市名\" >\r\n                        <template slot-scope=\"scope\">\r\n                            <!-- <p>{{scope.row}}</p> -->\r\n                            <input type=\"text\" v-model=\"scope.row.city_name\" class=\"sort\" @change=\"change(scope.row,1)\">\r\n                            <!-- <img :src=\"scope.row.slide_cover\" alt=\"\" class=\"long\"> -->\r\n                        </template>\r\n                    </el-table-column>\r\n                    \r\n                    <el-table-column label=\"排序\">\r\n                        <template slot-scope=\"scope\">\r\n                            <input type=\"text\" v-model=\"scope.row.sort\" class=\"sort\" @change=\"change(scope.row,2)\">\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"操作\">\r\n                        <template slot-scope=\"scope\">\r\n                            <div class=\"btn del\" @click=\"del(scope.row.id)\">删除</div>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </div>\r\n            <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :page-size=\"10\"\r\n                layout=\"total, prev, pager, next\"\r\n                :total=\"total_page\">\r\n            </el-pagination>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            cityList:[],\r\n            total_page:1,\r\n        }\r\n    },\r\n    created(){\r\n        this.getCitylist(1)\r\n    },\r\n    methods:{\r\n        getCitylist(page){\r\n            const url = this.$host + `admin/city`;\r\n            //console.log(url)\r\n            this.axios.get(url,{\r\n               params:{\r\n                    pageSize:10,\r\n                    page:page,\r\n                    \r\n                }\r\n              }).then(res=>{\r\n                console.log(res);\r\n                if(res.status == 200){\r\n                    let resData = res.data;\r\n                    // this.$message({\r\n                    //     message: '恭喜你，这是一条成功消息',\r\n                    //     type: 'success'\r\n                    // });\r\n                    this.cityList=resData.result\r\n                    this.total_page=resData.total_number\r\n                }else{\r\n                    this.$message.error('网络错误！请稍后重试！');\r\n                }\r\n            })\r\n        },\r\n        add(){\r\n            const url=this.$host + `admin/city/add_city`;\r\n            this.axios.post(url).then(res=>{\r\n                //console.log(res.data)\r\n                this.$message({\r\n                        message: '添加成功！',\r\n                        type: 'success'\r\n                    });\r\n                this.getCitylist(1)\r\n            }).catch(error=>{\r\n                console.log(error);\r\n            })\r\n        },\r\n        del(i){\r\n            var data={\r\n                city_id:i\r\n            }\r\n            const url = this.$host + `admin/city/delete_city`;\r\n            //console.log(url)\r\n            this.axios.post(url,data).then(res=>{\r\n                //console.log(res);\r\n                if(res.status == 200){\r\n                    console.log(res)\r\n                    let resData = res.data;\r\n                    if(resData.code==1){\r\n                        this.$message({\r\n                            message: resData.msg,\r\n                            type: 'success'\r\n                        });\r\n                        this.getCitylist(1)\r\n                        this.cityList=resData.result\r\n                        this.total_page=resData.total_number\r\n                    }else{\r\n                        this.$message({\r\n                            message: resData.msg,\r\n                            type: 'success'\r\n                        });\r\n                    }\r\n                    \r\n                }else{\r\n                    this.$message.error('网络错误！请稍后重试！');\r\n                }\r\n            })\r\n        },\r\n        change(item,i){\r\n            var data=''\r\n            if(i==1){\r\n                data=item.city_name\r\n            }else{\r\n                data=item.sort\r\n            }\r\n            var data1={\r\n                city_id:item.id,\r\n                mtype:i,\r\n                val:data\r\n            }\r\n            const url = this.$host + `admin/city/edit_city`;\r\n            //console.log(url)\r\n            this.axios.post(url,data1).then(res=>{\r\n                //console.log(res);\r\n                if(res.status == 200){\r\n                    console.log(res)\r\n                    let resData = res.data;\r\n                    if(resData.code==1){\r\n                        this.$message({\r\n                            message: resData.msg,\r\n                            type: 'success'\r\n                        });\r\n                        this.getCitylist(1)\r\n                        this.cityList=resData.result\r\n                        this.total_page=resData.total_number\r\n                    }else{\r\n                        this.$message({\r\n                            message: resData.msg,\r\n                            type: 'success'\r\n                        });\r\n                    }\r\n                    \r\n                }else{\r\n                    this.$message.error('网络错误！请稍后重试！');\r\n                }\r\n            })\r\n        },\r\n        handleSizeChange(val) {\r\n            // console.log(`每页 ${val} 条`);\r\n        },\r\n        handleCurrentChange(val) {\r\n            //console.log(`当前页: ${val}`);\r\n            this.getCitylist(val)\r\n        },\r\n        \r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.city{\r\n    .content{\r\n        height: auto;\r\n        .top{\r\n            height: 80px;\r\n            .left{\r\n                font-size: 16px;\r\n                span{\r\n                    font-size: 14px;\r\n                    color: #E51C23;\r\n\r\n                }\r\n            }\r\n            .add{\r\n                \r\n                width: 87px;\r\n                height: 30px;\r\n                line-height: 30px;\r\n                border-radius: 6px;\r\n                \r\n                text-align: center;\r\n            }\r\n        }\r\n        .sort{\r\n            text-align: center\r\n        }\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/platmentManagement/city.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"city\"},[_c('div',{staticClass:\"content bg-f padding-24\"},[_c('div',{staticClass:\"top space-between\"},[_c('div',{staticClass:\"center-col left\"},[_vm._v(\"城市管理\")]),_vm._v(\" \"),_c('div',{staticClass:\"add btn color-f bg-active\",on:{\"click\":_vm.add}},[_vm._v(\"添加\")])]),_vm._v(\" \"),_c('div',{staticClass:\"list\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.cityList,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"100\",\"label\":\"序号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"城市名\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.city_name),expression:\"scope.row.city_name\"}],staticClass:\"sort\",attrs:{\"type\":\"text\"},domProps:{\"value\":(scope.row.city_name)},on:{\"change\":function($event){return _vm.change(scope.row,1)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"city_name\", $event.target.value)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"排序\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.sort),expression:\"scope.row.sort\"}],staticClass:\"sort\",attrs:{\"type\":\"text\"},domProps:{\"value\":(scope.row.sort)},on:{\"change\":function($event){return _vm.change(scope.row,2)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"sort\", $event.target.value)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"btn del\",on:{\"click\":function($event){return _vm.del(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"page-size\":10,\"layout\":\"total, prev, pager, next\",\"total\":_vm.total_page},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-50a26617\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/platmentManagement/city.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50a26617\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./city.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./city.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./city.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50a26617\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./city.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/platmentManagement/city.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}